# 괄호 회전하기(Level 2)

### 문제 설명

다음 규칙을 지키는 문자열을 올바른 괄호 문자열이라고 정의합니다.

* (), \[\], {} 는 모두 올바른 괄호 문자열입니다.
* 만약 A가 올바른 괄호 문자열이라면, (A), \[A\], {A} 도 올바른 괄호 문자열입니다. 예를 들어, \[\] 가 올바른 괄호 문자열이므로, (\[\]) 도 올바른 괄호 문자열입니다.
* 만약 A, B가 올바른 괄호 문자열이라면, AB 도 올바른 괄호 문자열입니다. 예를 들어, {} 와 (\[\]) 가 올바른 괄호 문자열이므로, {}(\[\]) 도 올바른 괄호 문자열입니다.

대괄호, 중괄호, 그리고 소괄호로 이루어진 문자열 s가 매개변수로 주어집니다. 이 s를 왼쪽으로 x (0 ≤ x < (s의 길이)) 칸만큼 회전시켰을 때 s가 올바른 괄호 문자열이 되게 하는 x의 개수를 return 하도록 solution 함수를 완성해주세요.

---

#### 제한사항

* s의 길이는 1 이상 1,000 이하입니다.

---

#### 입출력 예

|s|	result|
|-|-|
|"\[\](){}"|	3|
|"}\]()\[{"|	2|
|"\[)(\]"|	0|
|"}}}"|	0|

#### 입출력 예 설명

##### 입출력 예 #1

* 다음 표는 "\[\](){}" 를 회전시킨 모습을 나타낸 것입니다.

|x|	s를 왼쪽으로 x칸만큼 회전|	올바른 괄호 문자열?|
|-|-|-|
|0|	"\[\](){}"|	O|
|1|	"\](){}\["|	X|
|2|	"(){}\[\]"|	O|
|3|	"){}\[\]("|	X|
|4|	"{}\[\]()"|	O|
|5|	"}\[\](){"|	X|

* 올바른 괄호 문자열이 되는 x가 3개이므로, 3을 return 해야 합니다.

##### 입출력 예 #2

* 다음 표는 "}\]()\[{" 를 회전시킨 모습을 나타낸 것입니다.

|x|	s를 왼쪽으로 x칸만큼 회전|	올바른 괄호 문자열?|
|-|-|-|
|0|	"}\]()\[{"|	X|
|1|	"\]()\[{}"|	X|
|2|	"()\[{}\]"|	O|
|3|	")\[{}\]("|	X|
|4|	"\[{}\]()"|	O|
|5|	"{}\]()\["|	X|

* 올바른 괄호 문자열이 되는 x가 2개이므로, 2를 return 해야 합니다.

##### 입출력 예 #3

* s를 어떻게 회전하더라도 올바른 괄호 문자열을 만들 수 없으므로, 0을 return 해야 합니다.

##### 입출력 예 #4

* s를 어떻게 회전하더라도 올바른 괄호 문자열을 만들 수 없으므로, 0을 return 해야 합니다.

[출처](https://programmers.co.kr/learn/courses/30/lessons/76502)

---

### 문제풀이

이 문제는 stack과 queue를 이용해서 푸는 문제입니다.   

이전에 풀었던 [균형잡힌 세상](https://github.com/flip1945/TIL/blob/main/Algorithm/Data%20Structure/BOJ_%EA%B7%A0%ED%98%95%EC%9E%A1%ED%9E%8C%20%EC%84%B8%EC%83%81.md) 문제에서처럼 stack을 이용해 올바른 괄호인지 확인합니다.   

stack을 이용해서 올바른 괄호인지 확인하면 이번엔 queue를 이용해 왼쪽 방향으로 문자열을 회전시켜 줍니다.

이걸 문자열의 길이만큼 반복하면 x의 개수를 알 수 있습니다.

---

#### 나의 풀이

~~~python
from collections import deque

def solution(s):
    answer = 0
    # 문자열 회전을 위해 queue를 이용합니다.
    queue = deque(list(s))
    # 문자열의 길이만큼 반복
    for i in range(len(s)):
        # 올바른 괄호 문자열이라면
        if chk_vps(queue):
            # 정답에 1을 추가합니다.
            answer += 1
        # 다음 문자열 확인을 위해 문자열을 왼쪽으로 회전시킵니다.
        queue.rotate(-1)
    return answer

def chk_vps(s):
    match = {"{": "}", "(": ")", "[": "]"}
    # 올바른 괄호 확인을 위해 stack을 사용합니다.
    stack = []
    
    for i in s:
        # 닫는 괄호라면
        if i in "]})":
            # stack이 비었거나 괄호가 매치되지 않는다면 올바른 괄호 문자열이 아니기 때문에 False를 반환합니다.
            if not stack or match[stack.pop()] != i:
                return False
            # 올바른 매치인지 확인하면서 stack의 top이 pop이 됐기 때문에 따로 stack을 pop하지 않습니다.
        # 여는 괄호라면
        else:
            # stack에 괄호를 push합니다.
            stack.append(i)
    # stack이 비어 있지 않다면 올바른 괄호 문자열이 아니기 때문에 False를 반환하고
    # 비어 있다면 올바른 괄호 문자열이기 때문에 True를 반환합니다.
    return False if stack else True
~~~
